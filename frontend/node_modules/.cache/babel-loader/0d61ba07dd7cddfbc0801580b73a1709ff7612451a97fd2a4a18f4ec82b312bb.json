{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const AppContext=/*#__PURE__*/createContext();export const useApp=()=>useContext(AppContext);export const AppProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(()=>{const saved=localStorage.getItem('arteriaUser');return saved?JSON.parse(saved):null;});const[riskScore,setRiskScore]=useState(()=>{const saved=localStorage.getItem('riskScore');return saved?JSON.parse(saved):0;});const[baselineVoice,setBaselineVoice]=useState(()=>{const saved=localStorage.getItem('baselineVoice');return saved?JSON.parse(saved):null;});const[baselineFace,setBaselineFace]=useState(()=>{const saved=localStorage.getItem('baselineFace');return saved?JSON.parse(saved):null;});const[sessionId]=useState(()=>{var _crypto,_crypto$randomUUID;return((_crypto=crypto)===null||_crypto===void 0?void 0:(_crypto$randomUUID=_crypto.randomUUID)===null||_crypto$randomUUID===void 0?void 0:_crypto$randomUUID.call(_crypto))||Math.random().toString(36).slice(2);});useEffect(()=>{if(user)localStorage.setItem('arteriaUser',JSON.stringify(user));},[user]);useEffect(()=>{localStorage.setItem('riskScore',JSON.stringify(riskScore));},[riskScore]);useEffect(()=>{if(baselineVoice)localStorage.setItem('baselineVoice',JSON.stringify(baselineVoice));},[baselineVoice]);useEffect(()=>{if(baselineFace)localStorage.setItem('baselineFace',JSON.stringify(baselineFace));},[baselineFace]);const getRiskLevel=()=>{if(riskScore>=15)return{level:'ALTO',color:'#dc3545'};if(riskScore>=8)return{level:'MODERADO',color:'#ffc107'};return{level:'BAIXO',color:'#28a745'};};const resetData=()=>{localStorage.clear();setUser(null);setRiskScore(0);setBaselineVoice(null);setBaselineFace(null);};return/*#__PURE__*/_jsx(AppContext.Provider,{value:{user,setUser,riskScore,setRiskScore,baselineVoice,setBaselineVoice,baselineFace,setBaselineFace,sessionId,getRiskLevel,resetData},children:children});};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","AppContext","useApp","AppProvider","_ref","children","user","setUser","saved","localStorage","getItem","JSON","parse","riskScore","setRiskScore","baselineVoice","setBaselineVoice","baselineFace","setBaselineFace","sessionId","_crypto","_crypto$randomUUID","crypto","randomUUID","call","Math","random","toString","slice","setItem","stringify","getRiskLevel","level","color","resetData","clear","Provider","value"],"sources":["/home/hugorteixeira/AvisoVC/frontend/src/contexts/AppContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst AppContext = createContext();\n\nexport const useApp = () => useContext(AppContext);\n\nexport const AppProvider = ({ children }) => {\n  const [user, setUser] = useState(() => {\n    const saved = localStorage.getItem('arteriaUser');\n    return saved ? JSON.parse(saved) : null;\n  });\n\n  const [riskScore, setRiskScore] = useState(() => {\n    const saved = localStorage.getItem('riskScore');\n    return saved ? JSON.parse(saved) : 0;\n  });\n\n  const [baselineVoice, setBaselineVoice] = useState(() => {\n    const saved = localStorage.getItem('baselineVoice');\n    return saved ? JSON.parse(saved) : null;\n  });\n\n  const [baselineFace, setBaselineFace] = useState(() => {\n    const saved = localStorage.getItem('baselineFace');\n    return saved ? JSON.parse(saved) : null;\n  });\n\n  const [sessionId] = useState(() =>\n    crypto?.randomUUID?.() || Math.random().toString(36).slice(2)\n  );\n\n  useEffect(() => {\n    if (user) localStorage.setItem('arteriaUser', JSON.stringify(user));\n  }, [user]);\n\n  useEffect(() => {\n    localStorage.setItem('riskScore', JSON.stringify(riskScore));\n  }, [riskScore]);\n\n  useEffect(() => {\n    if (baselineVoice) localStorage.setItem('baselineVoice', JSON.stringify(baselineVoice));\n  }, [baselineVoice]);\n\n  useEffect(() => {\n    if (baselineFace) localStorage.setItem('baselineFace', JSON.stringify(baselineFace));\n  }, [baselineFace]);\n\n  const getRiskLevel = () => {\n    if (riskScore >= 15) return { level: 'ALTO', color: '#dc3545' };\n    if (riskScore >= 8) return { level: 'MODERADO', color: '#ffc107' };\n    return { level: 'BAIXO', color: '#28a745' };\n  };\n\n  const resetData = () => {\n    localStorage.clear();\n    setUser(null);\n    setRiskScore(0);\n    setBaselineVoice(null);\n    setBaselineFace(null);\n  };\n\n  return (\n    <AppContext.Provider value={{\n      user, setUser,\n      riskScore, setRiskScore,\n      baselineVoice, setBaselineVoice,\n      baselineFace, setBaselineFace,\n      sessionId,\n      getRiskLevel,\n      resetData\n    }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}